<!DOCTYPE html>
<html>

<head>
  <title>View Booking</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap" rel="stylesheet"> -->
  <link rel="stylesheet" type="text/css"
    href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/open-iconic-bootstrap.min.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/animate.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/owl.carousel.min.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/owl.theme.default.min.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/magnific-popup.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/aos.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/ionicons.min.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/bootstrap-datepicker.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/jquery.timepicker.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/flaticon.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/icomoon.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/style.css') }}">
  {% include 'navbar.html' %}
</head>

<body>

  <section class="ftco-section contact-section">
    <div class="container">
      <div class="row d-flex mb-5 contact-info">
        <div class="row mb-5">
          <div class="col-md-12">
            <div class="bg-light p-5 w-100">
              <h3 class="heading-section mb-4">Current Rental</h3>
              <div class="row d-flex mb-4">
                <div class="item">
                  <div class="testimony-wrap rounded text-center py-4 pb-5">
                    <div class="text pt-4" style="text-align: left" ;>
                      <div>
                        <p class="name">Rental ID: {{ rental_id }}</p>
                        <div class="date-info">
                          <p class="name">Car Booked: {{ car_type }}</p>
                          <p class="name">License Plate: {{ license_plate }}</p>
                          <p class="name">Start Date: {{ start_date }}</p>
                          <p class="name">End Date: {{ end_date }}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="d-flex">
                  <p><a href="#" class="btn btn-primary py-3 px-4" onclick="toggleForm()">Return Car Now</a></p>
                  <form id="cancelBookingForm" action="/cancel-booking" method="post">
                    <input type="hidden" name="rental_id" value="{{ rental_id }}">
                    <p><button type="button" class="btn btn-primary py-3 px-4" style="margin-left:10px;"
                        onclick="cancelBooking()">Cancel Booking</button></p>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-8 block-9 mb-md-5">
          <form action="/upload" method="post" class="bg-light p-5 contact-form" enctype="multipart/form-data">
            <p style="text-align: center;"> Car Officially Returned!</p>
            <p style="text-align: center; margin-bottom:10px;"> Leave us a review!</p>
            <!-- houwei do the star ratings here -->
            <div class="row" style="padding-left: 10px">
              <div class="stars" id="star_rating">
                <input type="radio" id="five" name="rate" value="5">
                <label for="five"></label>
                <input type="radio" id="four" name="rate" value="4">
                <label for="four"></label>
                <input type="radio" id="three" name="rate" value="3">
                <label for="three"></label>
                <input type="radio" id="two" name="rate" value="2">
                <label for="two"></label>
                <input type="radio" id="one" name="rate" value="1">
                <label for="one"></label>
                <span class="result"></span>
              </div>
            </div>
            <div class="form-group">
              <input type="hidden" name="star_ratings" id="selected_rating" , value="">
            </div>
            <div class="form-group">
              <textarea name="review_description" id="" cols="30" rows="7" class="form-control"
                placeholder="Message"></textarea>
            </div>
            <div class="form-group">
              <label for="image">Upload Images:</label>
              <input type="file" name="image[]" id="image" multiple accept="image/*">
              <small class="form-text text-muted">Select one or multiple images. Accepted formats: JPG, JPEG, PNG,
                GIF.</small>
            </div>
            <div class="form-group">
              <input type="submit" value="Send Message" class="btn btn-primary py-3 px-5">
            </div>
          </form>

        </div>
        <div class="row justify-content-center">
          <div class="col-md-12">
            <div id="map" class="bg-white"></div>
          </div>
        </div>
      </div>
  </section>

  <script>document.write(new Date().getFullYear());</script>
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <script src="js/jquery.timepicker.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
  <script>
    function cancelBooking() {
      // You can add any additional confirmation logic here
      var confirmCancel = confirm("Are you sure you want to cancel the booking?");

      if (confirmCancel) {
        // Submit the form
        document.getElementById("cancelBookingForm").submit();
      }
    }
  </script>
  <script>
    function toggleForm() {
      var form = document.querySelector('.contact-form');
      form.style.display = (form.style.display === 'none') ? 'block' : 'none';
    }
  </script>
  <script>
    // Add click event listeners to each star
    const stars = document.querySelectorAll('input[type="radio"]');
    stars.forEach(star => {
      star.addEventListener('click', function () {
        const selected_rating = this.value;
        // Update the hidden input value with the selected rating
        // document.querySelector('.result').textContent = `Selected Rating: ${selected_rating}`;
      });
    });
  </script>

</body>

</html>